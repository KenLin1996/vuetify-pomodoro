import{p as Q,d as re,N as we,O as Ie,q as Z,c as w,D as ee,E as n,P as z,Q as J,R as ke,S as le,T as ae,U as Fe,j as Pe,l as Se,s as Re,W as Be,C as Te,X as $e,Y as Ee,r as T,t as De,v as Le,Z as Oe,w as We,_ as Ae,$ as Me,a0 as Ne,a1 as Ue,a2 as L,a3 as G,a4 as Ke,a5 as qe,a6 as je,a7 as ze,a8 as He,a9 as Xe,aa as Ye,n as ce,ab as Ge,F as Je,G as N,H as Qe,I as D,V as Ze,ac as de,J as m,ad as K,ae as fe,u as q,K as ve,M as j}from"./index-BX3XSOQv.js";import{u as et}from"./list-CHHSpReH.js";import{V as X,a as tt}from"./VRow-B6nD96uR.js";import{V as nt,m as lt,u as ye,a as at,b as it,c as me,d as he}from"./VInput-BjhOjbIx.js";class ie{constructor(o){let{x:a,y:i,width:t,height:l}=o;this.x=a,this.y=i,this.width=t,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ot(e){const o=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,l,s,c,d;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),l=+t[0],s=+t[5],c=+t[12],d=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),l=+t[0],s=+t[3],c=+t[4],d=+t[5];else return new ie(o);const f=a.transformOrigin,h=o.x-c-(1-l)*parseFloat(f),x=o.y-d-(1-s)*parseFloat(f.slice(f.indexOf(" ")+1)),I=l?o.width/l:e.offsetWidth+1,g=s?o.height/s:e.offsetHeight+1;return new ie({x:h,y:x,width:I,height:g})}else return new ie(o)}function st(e,o,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(o,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const rt="cubic-bezier(0.4, 0, 0.2, 1)",ut=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...we({transition:{component:Ie}})},"VCounter"),ct=Z()({name:"VCounter",functional:!0,props:ut(),setup(e,o){let{slots:a}=o;const i=w(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ee(()=>n(ke,{transition:e.transition},{default:()=>[z(n("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[J,e.active]])]})),{}}}),dt=Q({floating:Boolean,...re()},"VFieldLabel"),Y=Z()({name:"VFieldLabel",props:dt(),setup(e,o){let{slots:a}=o;return ee(()=>n(nt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),ft=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=Q({appendInnerIcon:le,bgColor:String,clearable:Boolean,clearIcon:{type:le,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:le,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ft.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...re(),...Fe(),...Pe(),...Se()},"VField"),be=Z()({name:"VField",inheritAttrs:!1,props:{id:String,...lt(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const{themeClasses:l}=Re(e),{loaderClasses:s}=Be(e),{focusClasses:c,isFocused:d,focus:f,blur:h}=ye(e),{InputIcon:x}=at(e),{roundedClasses:I}=Te(e),{rtlClasses:g}=$e(),P=w(()=>e.dirty||e.active),_=w(()=>!e.singleLine&&!!(e.label||t.label)),C=Ee(),v=w(()=>e.id||`input-${C}`),r=w(()=>`${v.value}-messages`),$=T(),p=T(),H=T(),u=w(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:k,backgroundColorStyles:F}=De(Le(e,"bgColor")),{textColorClasses:S,textColorStyles:te}=Oe(w(()=>e.error||e.disabled?void 0:P.value&&d.value?e.color:e.baseColor));We(P,y=>{if(_.value){const b=$.value.$el,R=p.value.$el;requestAnimationFrame(()=>{const B=ot(b),V=R.getBoundingClientRect(),U=V.x-B.x,W=V.y-B.y-(B.height/2-V.height/2),A=V.width/.75,M=Math.abs(A-B.width)>1?{maxWidth:Ae(A)}:void 0,_e=getComputedStyle(b),ue=getComputedStyle(R),Ce=parseFloat(_e.transitionDuration)*1e3||150,pe=parseFloat(ue.getPropertyValue("--v-field-label-scale")),Ve=ue.getPropertyValue("color");b.style.visibility="visible",R.style.visibility="hidden",st(b,{transform:`translate(${U}px, ${W}px) scale(${pe})`,color:Ve,...M},{duration:Ce,easing:rt,direction:y?"normal":"reverse"}).finished.then(()=>{b.style.removeProperty("visibility"),R.style.removeProperty("visibility")})})}},{flush:"post"});const O=w(()=>({isActive:P,isFocused:d,controlRef:H,blur:h,focus:f}));function ne(y){y.target!==document.activeElement&&y.preventDefault()}function E(y){var b;y.key!=="Enter"&&y.key!==" "||(y.preventDefault(),y.stopPropagation(),(b=e["onClick:clear"])==null||b.call(e,new MouseEvent("click")))}return ee(()=>{var U,W,A;const y=e.variant==="outlined",b=!!(t["prepend-inner"]||e.prependInnerIcon),R=!!(e.clearable||t.clear),B=!!(t["append-inner"]||e.appendInnerIcon||R),V=()=>t.label?t.label({...O.value,label:e.label,props:{for:v.value}}):e.label;return n("div",G({class:["v-field",{"v-field--active":P.value,"v-field--appended":B,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":b,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!V(),[`v-field--variant-${e.variant}`]:!0},l.value,k.value,c.value,s.value,I.value,g.value,e.class],style:[F.value,e.style],onClick:ne},a),[n("div",{class:"v-field__overlay"},null),n(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),b&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(x,{key:"prepend-icon",name:"prependInner"},null),(U=t["prepend-inner"])==null?void 0:U.call(t,O.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&n(Y,{key:"floating-label",ref:p,class:[S.value],floating:!0,for:v.value,style:te.value},{default:()=>[V()]}),n(Y,{ref:$,for:v.value},{default:()=>[V()]}),(W=t.default)==null?void 0:W.call(t,{...O.value,props:{id:v.value,class:"v-field__input","aria-describedby":r.value},focus:f,blur:h})]),R&&n(Ne,{key:"clear"},{default:()=>[z(n("div",{class:"v-field__clearable",onMousedown:M=>{M.preventDefault(),M.stopPropagation()}},[n(Ue,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...O.value,props:{onKeydown:E,onFocus:f,onBlur:h,onClick:e["onClick:clear"]}}):n(x,{name:"clear",onKeydown:E,onFocus:f,onBlur:h},null)]})]),[[J,e.dirty]])]}),B&&n("div",{key:"append",class:"v-field__append-inner"},[(A=t["append-inner"])==null?void 0:A.call(t,O.value),e.appendInnerIcon&&n(x,{key:"append-icon",name:"appendInner"},null)]),n("div",{class:["v-field__outline",S.value],style:te.value},[y&&n(L,null,[n("div",{class:"v-field__outline__start"},null),_.value&&n("div",{class:"v-field__outline__notch"},[n(Y,{ref:p,floating:!0,for:v.value},{default:()=>[V()]})]),n("div",{class:"v-field__outline__end"},null)]),u.value&&_.value&&n(Y,{ref:p,floating:!0,for:v.value},{default:()=>[V()]})])])}),{controlRef:H}}});function vt(e){const o=Object.keys(be.props).filter(a=>!Ke(a)&&a!=="class"&&a!=="style");return qe(e,o)}const oe=Symbol("Forwarded refs");function se(e,o){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,o);if(i)return i;a=Object.getPrototypeOf(a)}}function mt(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return e[oe]=a,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,l)){const c=Reflect.get(s.value,l);return typeof c=="function"?c.bind(s.value):c}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,l))return!0;return!1},set(t,l,s){if(Reflect.has(t,l))return Reflect.set(t,l,s);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const c of a)if(c.value&&Reflect.has(c.value,l))return Reflect.set(c.value,l,s);return!1},getOwnPropertyDescriptor(t,l){var c;const s=Reflect.getOwnPropertyDescriptor(t,l);if(s)return s;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const d of a){if(!d.value)continue;const f=se(d.value,l)??("_"in d.value?se((c=d.value._)==null?void 0:c.setupState,l):void 0);if(f)return f}for(const d of a){const f=d.value&&d.value[oe];if(!f)continue;const h=f.slice();for(;h.length;){const x=h.shift(),I=se(x.value,l);if(I)return I;const g=x.value&&x.value[oe];g&&h.push(...g)}}}}})}const ht=["color","file","time","date","datetime-local","week","month"],xt=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...it(),...ge()},"VTextField"),xe=Z()({name:"VTextField",directives:{Intersect:je},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const l=ze(e,"modelValue"),{isFocused:s,focus:c,blur:d}=ye(e),f=w(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),h=w(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),x=w(()=>["plain","underlined"].includes(e.variant));function I(u,k){var F,S;!e.autofocus||!u||(S=(F=k[0].target)==null?void 0:F.focus)==null||S.call(F)}const g=T(),P=T(),_=T(),C=w(()=>ht.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function v(){var u;_.value!==document.activeElement&&((u=_.value)==null||u.focus()),s.value||c()}function r(u){i("mousedown:control",u),u.target!==_.value&&(v(),u.preventDefault())}function $(u){v(),i("click:control",u)}function p(u){u.stopPropagation(),v(),ce(()=>{l.value=null,Ge(e["onClick:clear"],u)})}function H(u){var F;const k=u.target;if(l.value=k.value,(F=e.modelModifiers)!=null&&F.trim&&["text","search","password","tel","url"].includes(e.type)){const S=[k.selectionStart,k.selectionEnd];ce(()=>{k.selectionStart=S[0],k.selectionEnd=S[1]})}}return ee(()=>{const u=!!(t.counter||e.counter!==!1&&e.counter!=null),k=!!(u||t.details),[F,S]=He(a),{modelValue:te,...O}=me.filterProps(e),ne=vt(e);return n(me,G({ref:g,modelValue:l.value,"onUpdate:modelValue":E=>l.value=E,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":x.value},e.class],style:e.style},F,O,{centerAffix:!x.value,focused:s.value}),{...t,default:E=>{let{id:y,isDisabled:b,isDirty:R,isReadonly:B,isValid:V}=E;return n(be,G({ref:P,onMousedown:r,onClick:$,"onClick:clear":p,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ne,{id:y.value,active:C.value||R.value,dirty:R.value||e.dirty,disabled:b.value,focused:s.value,error:V.value===!1}),{...t,default:U=>{let{props:{class:W,...A}}=U;const M=z(n("input",G({ref:_,value:l.value,onInput:H,autofocus:e.autofocus,readonly:B.value,disabled:b.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:v,onBlur:d},A,S),null),[[Xe("intersect"),{handler:I},null,{once:!0}]]);return n(L,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?n("div",{class:W,"data-no-activator":""},[t.default(),M]):Ye(M,{class:W}),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:k?E=>{var y;return n(L,null,[(y=t.details)==null?void 0:y.call(t,E),u&&n(L,null,[n("span",null,null),n(ct,{active:e.persistentCounter||s.value,value:f.value,max:h.value,disabled:e.disabled},t.counter)])])}:void 0})}),mt({},g,P,_)}}),yt=m("h1",{class:"text-center"},"待辦事項",-1),gt=m("thead",{class:"text-center",style:{backgroundColor:"#F3E5F5"}},[m("tr",null,[m("th",{class:"text-center"},"名稱"),m("th",{class:"text-center"},"操作")])],-1),bt={class:"text-center py-2"},_t={class:"text-center py-2"},Ct=m("h1",{class:"text-center"},"完成事項",-1),pt=m("thead",{style:{backgroundColor:"#F3E5F5"}},[m("tr",{class:"text-center"},[m("th",{class:"text-center"},"名稱"),m("th",{class:"text-center"},"操作")])],-1),Vt={class:"text-center py-2"},wt={class:"text-center py-2"},St={__name:"list",setup(e){const o=et(),{addItem:a,editItem:i,delItem:t,cancelEditItem:l,confirmEditItem:s,delFinishItem:c}=o,{items:d,finishedItems:f}=Je(o),h=T(""),x=T(null),I=T([]),g={required:C=>!!C||"欄位必填",length:C=>C.length>=3||"必須三個字"},P=async()=>{const C=await x.value.validate();console.log(C),!(C.length>0)&&(a(h.value),x.value.reset())},_=async(C,v)=>{(await I.value[v].validate()).length>0||s(C)};return(C,v)=>(N(),Qe(Ze,null,{default:D(()=>[n(tt,null,{default:D(()=>[n(X,{cols:"12"},{default:D(()=>[yt]),_:1}),n(X,{cols:"12"},{default:D(()=>[n(xe,{label:"新增事項",variant:"outlined",clearable:"","append-icon":"mdi-plus",onKeydown:de(P,["enter"]),"onClick:append":P,modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=r=>h.value=r),rules:[g.required,g.length],ref_key:"newItemTextField",ref:x},null,8,["modelValue","rules"]),n(he,{class:"mt-1",style:{boxShadow:"0px 2px 4px -1px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)), 0px 4px 5px 0px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)), 0px 1px 10px 0px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12))"}},{default:D(()=>[gt,m("tbody",null,[(N(!0),K(L,null,fe(q(d),(r,$)=>(N(),K("tr",{key:r.id},[m("td",bt,[z(m("span",null,ve(r.name),513),[[J,!r.edit]]),z(n(xe,{modelValue:r.model,"onUpdate:modelValue":p=>r.model=p,rules:[g.required,g.length],autofocus:"",onKeydown:de(p=>_(r.id,$),["enter"]),ref_for:!0,ref_key:"editItemTextField",ref:I},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[J,r.edit]])]),m("td",_t,[r.edit?(N(),K(L,{key:1},[n(j,{icon:"mdi-check",onClick:p=>_(r.id,$)},null,8,["onClick"]),n(j,{icon:"mdi-undo",onClick:p=>q(l)(r.id)},null,8,["onClick"])],64)):(N(),K(L,{key:0},[n(j,{icon:"mdi-pencil",onClick:p=>q(i)(r.id),class:"mr-3"},null,8,["onClick"]),n(j,{icon:"mdi-delete",onClick:p=>q(t)(r.id)},null,8,["onClick"])],64))])]))),128))])]),_:1})]),_:1}),n(X,{cols:"12",class:"mt-3"},{default:D(()=>[Ct]),_:1}),n(X,{cols:"12"},{default:D(()=>[n(he,{style:{boxShadow:"0px 2px 4px -1px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)), 0px 4px 5px 0px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)), 0px 1px 10px 0px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12))"}},{default:D(()=>[pt,m("tbody",null,[(N(!0),K(L,null,fe(q(f),r=>(N(),K("tr",{key:r.id},[m("td",Vt,ve(r.name),1),m("td",wt,[n(j,{icon:"mdi-delete",onClick:$=>q(c)(r.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{St as default};
